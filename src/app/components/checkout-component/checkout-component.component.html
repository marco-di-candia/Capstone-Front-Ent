<div class="container mt-4 bg-white rounded-5 p-5">
    <h2 class="p-4">Shipping Information</h2>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <!-- Shipping Information Section -->
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" formControlName="email">
            <div *ngIf="form.get('email')?.invalid && (form.get('email')?.dirty || form.get('email')?.touched)" class="text-danger">
                <small *ngIf="form.get('email')?.errors?.['required']">
                    Email is required.
                </small>
                <small *ngIf="form.get('email')?.errors?.['email']">
                    Please enter a valid email address.
                </small>
            </div>
        </div>

        <div class="mb-3">
            <label for="fullName" class="form-label">Full Name</label>
            <input type="text" class="form-control" id="fullName" formControlName="fullName">
            <div *ngIf="form.get('fullName')?.invalid && (form.get('fullName')?.dirty || form.get('fullName')?.touched)" class="text-danger">
                <small *ngIf="form.get('fullName')?.errors?.['required']">
                    Full Name is required.
                </small>
            </div>
        </div>

        <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <input type="text" class="form-control" id="address" formControlName="address">
            <div *ngIf="form.get('address')?.invalid && (form.get('address')?.dirty || form.get('address')?.touched)" class="text-danger">
                <small *ngIf="form.get('address')?.errors?.['required']">
                    Address is required.
                </small>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" id="city" formControlName="city">
                <div *ngIf="form.get('city')?.invalid && (form.get('city')?.dirty || form.get('city')?.touched)" class="text-danger">
                    <small *ngIf="form.get('city')?.errors?.['required']">
                        City is required.
                    </small>
                </div>
            </div>
            <div class="col-md-6">
                <label for="postalCode" class="form-label">Postal Code</label>
                <input type="text" class="form-control" id="postalCode" formControlName="postalCode">
                <div *ngIf="form.get('postalCode')?.invalid && (form.get('postalCode')?.dirty || form.get('postalCode')?.touched)" class="text-danger">
                    <small *ngIf="form.get('postalCode')?.errors?.['required']">
                        Postal Code is required.
                    </small>
                    <small *ngIf="form.get('postalCode')?.errors?.['pattern']">
                        Postal Code must be a 5-digit number.
                    </small>
                </div>
            </div>
        </div>

        <div class="mb-3">
            <label for="country" class="form-label">Country</label>
            <input type="text" class="form-control" id="country" formControlName="country">
            <div *ngIf="form.get('country')?.invalid && (form.get('country')?.dirty || form.get('country')?.touched)" class="text-danger">
                <small *ngIf="form.get('country')?.errors?.['required']">
                    Country is required.
                </small>
            </div>
        </div>

        <!-- Credit Card Information Section -->
        <h2 class="p-4">Credit Card Information</h2>
        <div class="mb-3">
            <label for="cardHolderName" class="form-label">Cardholder Name</label>
            <input type="text" class="form-control" id="cardHolderName" formControlName="cardHolderName">
            <div *ngIf="form.get('cardHolderName')?.invalid && (form.get('cardHolderName')?.dirty || form.get('cardHolderName')?.touched)" class="text-danger">
                <small *ngIf="form.get('cardHolderName')?.errors?.['required']">
                    Cardholder Name is required.
                </small>
            </div>
        </div>

        <div class="mb-3">
            <label for="cardNumber" class="form-label">Card Number</label>
            <input type="text" class="form-control" id="cardNumber" formControlName="cardNumber">
            <div *ngIf="form.get('cardNumber')?.invalid && (form.get('cardNumber')?.dirty || form.get('cardNumber')?.touched)" class="text-danger">
                <small *ngIf="form.get('cardNumber')?.errors?.['required']">
                    Card Number is required.
                </small>
                <small *ngIf="form.get('cardNumber')?.errors?.['pattern']">
                    Card Number must be a 16-digit number.
                </small>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="expiryDate" class="form-label">Expiry Date</label>
                <input type="text" class="form-control" id="expiryDate" formControlName="expiryDate" placeholder="MM/YYYY">
                <div *ngIf="form.get('expiryDate')?.invalid && (form.get('expiryDate')?.dirty || form.get('expiryDate')?.touched)" class="text-danger">
                    <small *ngIf="form.get('expiryDate')?.errors?.['required']">
                        Expiry Date is required.
                    </small>
                    <small *ngIf="form.get('expiryDate')?.errors?.['pattern']">
                        Expiry Date must be in MM/YYYY format.
                    </small>
                </div>
            </div>
            <div class="col-md-6">
                <label for="cvv" class="form-label">CVV</label>
                <input type="text" class="form-control" id="cvv" formControlName="cvv">
                <div *ngIf="form.get('cvv')?.invalid && (form.get('cvv')?.dirty || form.get('cvv')?.touched)" class="text-danger">
                    <small *ngIf="form.get('cvv')?.errors?.['required']">
                        CVV is required.
                    </small>
                    <small *ngIf="form.get('cvv')?.errors?.['pattern']">
                        CVV must be a 3-digit number.
                    </small>
                </div>
            </div>
        </div>

        <!-- Aggiunto routerLink condizionale -->
        <a *ngIf="form.valid" routerLink="/confirmation" class="btn btn-primary">Submit Order</a>
        <button *ngIf="!form.valid" type="submit" class="btn btn-primary" [disabled]="true">Submit Order</button>
    </form>
</div>
